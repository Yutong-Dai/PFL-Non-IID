==================================================
Algorithm: FedPer
Local batch size: 64
Local steps: 5
Local learing rate: 0.01
Total number of clients: 20
Clients join in each round: 0.4
Client drop rate: 0.0
Time select: False
Time threthold: 10000
Global rounds: 100
Running times: 1
Dataset: Cifar100
Local model: cnn
Using device: cuda
Cuda device id: 1
==================================================

============= Running time: 0th =============
Creating server and clients ...

Join ratio / total clients: 0.4 / 20
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Traceback (most recent call last):
  File "/export/home/PFL-Non-IID/system/main.py", line 307, in <module>
    run(args)
  File "/export/home/PFL-Non-IID/system/main.py", line 171, in run
    server.train()
  File "/export/home/PFL-Non-IID/system/flcore/servers/serverper.py", line 28, in train
    self.evaluate()
  File "/export/home/PFL-Non-IID/system/flcore/servers/serverbase.py", line 189, in evaluate
    stats = self.test_metrics()
  File "/export/home/PFL-Non-IID/system/flcore/servers/serverbase.py", line 166, in test_metrics
    ct, ns, auc = c.test_metrics()
  File "/export/home/PFL-Non-IID/system/flcore/clients/clientbase.py", line 105, in test_metrics
    auc = metrics.roc_auc_score(y_true, y_prob, average='micro')
  File "/root/anaconda3/lib/python3.9/site-packages/sklearn/metrics/_ranking.py", line 575, in roc_auc_score
    return _average_binary_score(
  File "/root/anaconda3/lib/python3.9/site-packages/sklearn/metrics/_base.py", line 118, in _average_binary_score
    score[c] = binary_metric(y_true_c, y_score_c, sample_weight=score_weight)
  File "/root/anaconda3/lib/python3.9/site-packages/sklearn/metrics/_ranking.py", line 342, in _binary_roc_auc_score
    fpr, tpr, _ = roc_curve(y_true, y_score, sample_weight=sample_weight)
  File "/root/anaconda3/lib/python3.9/site-packages/sklearn/metrics/_ranking.py", line 962, in roc_curve
    fps, tps, thresholds = _binary_clf_curve(
  File "/root/anaconda3/lib/python3.9/site-packages/sklearn/metrics/_ranking.py", line 733, in _binary_clf_curve
    check_consistent_length(y_true, y_score, sample_weight)
  File "/root/anaconda3/lib/python3.9/site-packages/sklearn/utils/validation.py", line 332, in check_consistent_length
    raise ValueError(
ValueError: Found input variables with inconsistent numbers of samples: [69100, 353792]
